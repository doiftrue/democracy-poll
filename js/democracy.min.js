function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}
/*! js-cookie v3.0.5 | MIT */function democracyInit(){var e=".democracy",t=jQuery(e);if(t.length){var n,i=".dem-screen",o=".dem-add-answer-txt",a=jQuery(".dem-loader:first"),s={};s.opts=t.first().data("opts"),s.ajaxurl=s.opts.ajax_url,s.answMaxHeight=s.opts.answs_max_height,s.animSpeed=parseInt(s.opts.anim_speed),s.lineAnimSpeed=parseInt(s.opts.line_anim_speed),setTimeout(function(){var e=t.find(i).filter(":visible"),n=function(){e.each(function(){s.setHeight(jQuery(this),1)})};e.demInitActions(1),jQuery(window).on("resize.demsetheight",n),jQuery(window).on("load",n),s.maxAnswLimitInit();var o=jQuery(".dem-cache-screens");o.length>0&&o.demCacheInit()},1),jQuery.fn.demInitActions=function(e){return this.each(function(){var t=jQuery(this),n="data-dem-act";t.find("["+n+"]").each(function(){var e=jQuery(this);e.attr("href",""),e.on("click",function(t){t.preventDefault(),e.blur().demDoAction(e.attr(n))})}),!!t.find("input[type=radio][data-dem-act=vote]").first().length&&t.find(".dem-vote-button").hide(),s.setAnswsMaxHeight(t),s.lineAnimSpeed&&t.find(".dem-fill").each(function(){var e=jQuery(this);setTimeout(function(){e.animate({width:e.data("width")},s.lineAnimSpeed)},s.animSpeed,"linear")}),s.setHeight(t,e),t.find("form").on("submit",function(e){e.preventDefault(),jQuery(this).find('input[name="dem_act"]').val()&&jQuery(this).demDoAction(jQuery(this).find('input[name="dem_act"]').val())})})},jQuery.fn.demSetLoader=function(){var e=this;return a.length?e.closest(i).append(a.clone().css("display","table")):n=setTimeout(function(){return s.demLoadingDots(e[0])},50),this},jQuery.fn.demUnsetLoader=function(){return a.length?this.closest(i).find(".dem-loader").remove():clearTimeout(n),this},jQuery.fn.demAddAnswer=function(){var e=this.first(),t=e.closest(i),n=t.find("[type=checkbox]").length>0,a=jQuery('<input type="text" class="'+o.replace(/\./,"")+'" value="">');if(t.find(".dem-vote-button").show(),t.find("[type=radio]").each(function(){jQuery(this).on("click",function(){e.fadeIn(300),jQuery(o).remove()}),"radio"===jQuery(this)[0].type&&(this.checked=!1)}),e.hide().parent("li").append(a),a.hide().fadeIn(300).focus(),n){var s=t.find(o);jQuery('<span class="dem-add-answer-close">Ã—</span>').insertBefore(s).css("line-height",s.outerHeight()+"px").on("click",function(){var e=jQuery(this).parent("li");e.find("input").remove(),e.find("a").fadeIn(300),jQuery(this).remove()})}return!1},jQuery.fn.demCollectAnsw=function(){var e=this.closest("form"),t=e.find("[type=checkbox],[type=radio],[type=text]"),n=e.find(o).val(),i=[],a=t.filter("[type=checkbox]:checked");if(a.length>0)a.each(function(){i.push(jQuery(this).val())});else{var s=t.filter("[type=radio]:checked");s.length&&i.push(s.val())}return n&&i.push(n),(i=i.join("~"))||""},jQuery.fn.demDoAction=function(t){var n=this.first(),o=n.closest(e),a={dem_pid:o.data("opts").pid,dem_act:t,action:"dem_ajax"};return void 0===a.dem_pid?(console.log("Poll id is not defined!"),!1):"vote"!==t||(a.answer_ids=n.demCollectAnsw(),a.answer_ids)?!("delVoted"===t&&!confirm(n.data("confirm-text")))&&("newAnswer"===t?(n.demAddAnswer(),!1):(n.demSetLoader(),jQuery.post(s.ajaxurl,a,function(e){n.demUnsetLoader(),n.closest(i).html(e).demInitActions(),setTimeout(function(){jQuery("html:first,body:first").animate({scrollTop:o.offset().top-70},500)},200)}),!1)):(s.demShake(n[0]),!1)},jQuery.fn.demCacheShowNotice=function(e){var t=this.first(),n=t.find(".dem-youarevote").first();return"blocked_because_not_logged_note"===e&&(t.find(".dem-revote-button").remove(),n=t.find(".dem-only-users").first()),t.prepend(n.show()),setTimeout(function(){n.slideUp("slow")},1e4),this},s.cacheSetAnswrs=function(e,t){var n=t.split(/,/);if(e.hasClass("voted")){var i=e.find(".dem-answers"),o=i.data("voted-class"),a=i.data("voted-txt");jQuery.each(n,function(t,n){e.find('[data-aid="'+n+'"]').addClass(o).attr("title",function(){return a+jQuery(this).attr("title")})}),e.find(".dem-vote-link").remove()}else{var s=e.find("[data-aid]"),r=e.find(".dem-voted-button");jQuery.each(n,function(e,t){s.filter('[data-aid="'+t+'"]').find("input").prop("checked","checked")}),s.find("input").prop("disabled","disabled"),e.find(".dem-vote-button").remove(),r.length?r.show():(e.find('input[value="vote"]').remove(),e.find(".dem-revote-button-wrap").show())}},jQuery.fn.demCacheInit=function(){return this.each(function(){var t=jQuery(this),n=t.prevAll(e+":first");if(n.length||(n=t.closest(e)),n.length){var o=n.find(i).first(),a=n.data("opts").pid,r=Cookies.get("demPoll_"+a),d="notVote"===r,c=!(void 0===r||d),f=t.find(i+"-cache.vote").html(),u=t.find(i+"-cache.voted").html();if(f){var l=c&&u;if(o.html((l?u:f)+"\x3c!--cache--\x3e").removeClass("vote voted").addClass(l?"voted":"vote"),c&&s.cacheSetAnswrs(o,r),o.demInitActions(1),!d&&!c&&1==t.data("opt_logs")){var h,p=function(){h=setTimeout(function(){if(!n.hasClass("checkAnswDone")){n.addClass("checkAnswDone");var e=n.find(".dem-link").first();e.demSetLoader(),jQuery.post(s.ajaxurl,{dem_pid:n.data("opts").pid,dem_act:"getVotedIds",action:"dem_ajax"},function(t){e.demUnsetLoader(),t&&(o.html(u),s.cacheSetAnswrs(o,t),o.demInitActions(),o.demCacheShowNotice(t))})}},700)};n.on("mouseenter",p).on("mouseleave",function(){clearTimeout(h)}),n.on("click",p)}}}else console.warn("Democracy: Main dem div not found")})},s.detectRealHeight=function(e){var t=e.clone().css({height:"auto"}).insertBefore(e),n="border-box"===t.css("box-sizing")?parseInt(t.css("height")):t.height();return t.remove(),n},s.setHeight=function(e,t){var n=s.detectRealHeight(e);t?e.css({height:n}):e.css({opacity:0}).animate({height:n},s.animSpeed,function(){jQuery(this).animate({opacity:1},1.5*s.animSpeed)})},s.setAnswsMaxHeight=function(e){if("-1"!==s.answMaxHeight&&"0"!==s.answMaxHeight&&s.answMaxHeight){var t=e.find(".dem-vote, .dem-answers").first(),n=parseInt(s.answMaxHeight);if(t.css({"max-height":"none","overflow-y":"visible"}),("border-box"===t.css("box-sizing")?parseInt(t.css("height")):t.height())-n>100){t.css("position","relative");var i,o=jQuery('<span class="dem__collapser"><span class="arr"></span></span>').appendTo(t),a=function(){o.addClass("expanded").removeClass("collapsed")},r=function(){o.addClass("collapsed").removeClass("expanded")};e.data("expanded")?a():(r(),t.height(n).css("overflow-y","hidden")),o.on("mouseenter",function(){e.data("expanded")||(i=setTimeout(function(){o.trigger("click")},1e3))}).on("mouseleave",function(){clearTimeout(i)}),o.on("click",function(){if(clearTimeout(i),e.data("expanded"))r(),e.data("expanded",!1),e.height("auto"),t.stop().css("overflow-y","hidden").animate({height:n},s.animSpeed,function(){s.setHeight(e,!0)});else{a();var o=s.detectRealHeight(t);o+=7,e.data("expanded",!0),e.height("auto"),t.stop().animate({height:o},s.animSpeed,function(){s.setHeight(e,!0),t.css("overflow-y","visible")})}})}}},s.maxAnswLimitInit=function(){t.on("change",'input[type="checkbox"]',function(){var t=jQuery(this).closest(e).data("opts").max_answs,n=jQuery(this).closest(i).find('input[type="checkbox"]');n.filter(":checked").length>=t?n.filter(":not(:checked)").each(function(){jQuery(this).prop("disabled",!0).closest("li").addClass("dem-disabled")}):n.each(function(){jQuery(this).prop("disabled",!1).closest("li").removeClass("dem-disabled")})})},s.demShake=function(e){var t=window.getComputedStyle(e).position;t&&"static"!==t||(e.style.position="relative");e.animate([{left:"0px"},{left:"-10px",offset:.2},{left:"10px",offset:.4},{left:"-10px",offset:.6},{left:"10px",offset:.8},{left:"0px",offset:1}],{duration:500,iterations:1,easing:"linear"})},s.demLoadingDots=function(e){var t="input"===e.tagName.toLowerCase(),i=t?e.value:e.innerHTML;"..."===i.slice(-3)?e[t?"value":"innerHTML"]=i.slice(0,-3):e[t?"value":"innerHTML"]+=".",n=setTimeout(function(){return s.demLoadingDots(e)},200)}}}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var n=e.Cookies,i=e.Cookies=t();i.noConflict=function(){return e.Cookies=n,i}}())}(this,function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}var t=function t(n,i){function o(t,o,a){if("undefined"!=typeof document){"number"==typeof(a=e({},i,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var r in a)a[r]&&(s+="; "+r,!0!==a[r]&&(s+="="+a[r].split(";")[0]));return document.cookie=t+"="+n.write(o,t)+s}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],i={},o=0;o<t.length;o++){var a=t[o].split("="),s=a.slice(1).join("=");try{var r=decodeURIComponent(a[0]);if(i[r]=n.read(s,r),e===r)break}catch(e){}}return e?i[e]:i}},remove:function(t,n){o(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});return t}),document.addEventListener("DOMContentLoaded",democracyInit);